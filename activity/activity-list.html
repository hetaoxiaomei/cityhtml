<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta content="telephone=no" name="format-detection">
    <meta content="email=no" name="format-detection">
    <meta name="x5-page-mode" content="app">
    <title>同城活动</title>
    <link rel="stylesheet" type="text/css" href="../css/common.css">
    <link rel="stylesheet" type="text/css" href="../css/bottom-navigation.css">
    <link rel="stylesheet" type="text/css" href="../css/tc-bottom-nav.css">
    <style>
        .icon-arrow{background: url(../img/tc-pic04.png);background-size:50rem}
        .icon-arrow{width: .7rem;height: 1.2rem;display: inline-block;margin: 0 0 0 1rem;background-position: -22rem -9.2rem;transform: rotate(90deg);vertical-align: -.1rem}
        .activity-nav{height:5rem;line-height:5rem;box-shadow: 0 -2px 10px rgba(0, 0, 0, .1);z-index:99}
        .activity-nav li.active{color: #FF6600;font-weight: bold;}
        .activity-cell{padding: 1.5rem 1rem;margin: 1rem 0 0;line-height: 1.25}
        .activity-cell .pic{margin: 0 1rem 0 0;position: relative;border-radius: 5px;width: 15rem;height: 11.2rem;overflow: hidden;background:#EDEFF2}
        .activity-cell .pic img{display: block;width: 100%;height: 100%;}
        .activity-cell .pic .time{font-size: 1.1rem;position: absolute;bottom: 0;left: 0;width: 100%;height: 2.5rem;line-height: 2.5rem;text-align: center;background:rgba(0,0,0,.5);color: #fff;}
        .activity-cell .money{color: #FF6600;margin: 1.1rem 0 0;font-size: 1.4rem;font-weight: bold;float: left;line-height: .9}
        .activity-cell .bt{text-align: center;font-size: 1.3rem;float: right;color: #fff;width:7.5rem;height:3rem;line-height:3rem;text-align:center;background: linear-gradient(to right,#FF8F00,#FF6A00);border-radius: 5px;}
        .activity-cell .bt.active{background:#999;}
    </style>
</head> 
<body>
    <div id="vue_activity" v-show="isCreated">
        <div class="fix-tl" style="z-index:200">                                        
            <ul class="d-flex basewrap ta-c f15 bg-f activity-nav bottom-line">
                <li v-for="(nav,index) in navs" :class="{active:selectindex==index}" @click="checkItem(index)" class="flex">
                    <span>{{nav.type}}</span><i class="icon-arrow"></i>
                </li>                       
            </ul>
            <!--活动-->
            <div class="dialog-screen-select-js abs" style="height:100vh;top: 5rem;" v-show="selectindex===0">
                <div class="dialog-black-mask" @click='checkMask()'></div>
                <div class="screen-select">   
                    <div class="d-flex screen-local">
                        <ul class="flex" >
                            <li class="bottom-line" :class='{active:sortindex==index}' v-for="(sort,index) in sort01" @click='checkSelect01(index,sort.type)'>{{sort.type}}</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!--费用-->
            <div class="dialog-screen-select-js abs" style="height:100vh;top: 5rem;" v-show="selectindex===1">
                <div class="dialog-black-mask" @click='checkMask()'></div>
                <div class="screen-select">
                    <div class="d-flex screen-local">
                        <ul class="flex">
                            <li class="bottom-line" :class='{active:sortindex02==index}' v-for="(sort,index) in sort02" @click='checkSelect02(index,sort.type)'>{{sort.type}}</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!--时间-->
            <div class="dialog-screen-select-js abs" style="height:100vh;top: 5rem;" v-show="selectindex===2">
                <div class="dialog-black-mask" @click='checkMask()'></div>
                <div class="screen-select">
                    <div class="d-flex screen-local">
                        <ul class="flex">
                            <li class="bottom-line" :class='{active:sortindex03==index}' v-for="(sort,index) in sort03" @click='checkSelect03(index,sort.type)'>{{sort.type}}</li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
        
        <div class="basewrap" style="padding: 5rem 0 8rem;">
            <div class="d-flex bg-f activity-cell" v-for="activity in activitys">
                <div class="pic">
                    <img :src="activity.img">
                    <div class="time">距活动结束还剩：<i>{{activity.time}}</i></div>
                </div>
                <div class="flex">
                    <div class="f15 bold clamp1" style="margin: .3rem 0 0;">{{activity.title}}</div>
                    <div style="margin: 1rem 0 0;">
                        <div class="f13 c666">{{activity.address}}</div>
                        <div class="f13 c666" style="margin: .5rem 0 0;">{{activity.start}}</div>
                    </div>
                    <div style="overflow: hidden;margin: .7rem 0 0;">
                        <div class="money">{{activity.sign}}<i style="font-size: 2.2rem;">{{activity.yuan}}</i><i>{{activity.jiao}}</i></div>
                        <div class="bt" v-bind:class="{active:activity.isActive}">{{activity.button}}</div>
                    </div>
                </div>
            </div>
        </div>

        <!--底部导航-->
        <div class="tcFooter temp-reply-btn">
            <footer class="tc-footer">
                <div class="circleicon">
                    <a href="/sc/coc-500228">
                        <i>
                        </i>
                    </a>
                </div>
                <ul class="d-flex bz card">
                    <li class="flex active">
                        <a href="/sc/c-500228" class="active">
                            <i class="home">
                            </i>
                            <span>首页</span>
                        </a>
                    </li>
                    <li class="flex">
                        <a href="/sc/coc-500228">
                            <i>
                            </i>
                            <span>我要发布</span>
                        </a>
                    </li>
                    <li class="flex">
                        <a href="/sc/mc-500228">
                            <i class="find">
                            </i>
                            <span>我的</span>
                            <em class="dot" id="noread_msg_box" style="display:none;"></em>
                        </a>
                    </li>
                </ul>
            </footer>
        </div>

    </div>

    <script src="../js/jquery-1.10.2.js"></script>
    <script src="../js/vue.min.js"></script>
    <script>
        var vm = new Vue({
            el:'#vue_activity',        
            data:{
                selectindex:null,
                isCreated:false,
                see:false,
                isShow:true,
                sortindex:null,
                sortindex02:null,
                sortindex03:null,
                activitys:[
                    {img:'../img ',time:'01:18:34',title:'名师1对1精品课，每天15分每天15分每天15分',address:'荔湾区外国语小学',start:'后天09:00开始',sign:'￥',
                    yuan:'29.',jiao:'5',button:'马上报名',isActive:false},
                    {img:'../img ',time:'01:18:34',title:'名师1对1精品课，每天15分每天15分每天15分',address:'荔湾区外国语小学',start:'后天09:00开始',sign:'',
                    yuan:'免费',jiao:'',button:'已经报名',isActive:true},                    
                    {img:'../img ',time:'01:18:34',title:'名师1对1精品课，每天15分每天15分每天15分',address:'荔湾区外国语小学',start:'后天09:00开始',sign:'',
                    yuan:'免费',jiao:'',button:'免费报名',isActive:false},
                    {img:'../img ',time:'01:18:34',title:'名师1对1精品课，每天15分每天15分每天15分',address:'荔湾区外国语小学',start:'后天09:00开始',sign:'',
                    yuan:'免费',jiao:'',button:'999人报名',isActive:false},
                    {img:'../img ',time:'01:18:34',title:'名师1对1精品课，每天15分每天15分每天15分',address:'荔湾区外国语小学',start:'后天09:00开始',sign:'￥',
                    yuan:'80',jiao:'',button:'报名即将截止',isActive:false}                    
                ],
                navs:[
                    {type:'全部活动'},
                    {type:'费用不限'},
                    {type:'全部时间'},
                ],
                sort01:[
                    {type:'全部活动'},
                    {type:'线上'},
                    {type:'线下'},
                ],
                sort02:[
                    {type:'费用不限'},
                    {type:'收费'},
                    {type:'免费'},
                ],     
                sort03:[
                    {type:'全部时间'},
                    {type:'近三天'},
                    {type:'本周'},
                    {type:'本月'},
                ]      
            },
            methods:{
                checkItem:function(index){                    
                    if(this.selectindex != index){
                        this.selectindex=index;
                    }else{
                        this.selectindex=-1;
                    }
                },
                checkSelect01:function(index,type){                    
                    this.sortindex=index;
                    this.selectindex=null;
                    this.navs[0].type=type;
                },
                checkSelect02:function(index,type){                    
                    this.sortindex02=index;
                    this.selectindex=null;
                    this.navs[1].type=type;
                },
                checkSelect03:function(index,type){                    
                    this.sortindex03=index;
                    this.selectindex=null;
                    this.navs[2].type=type;
                },
                checkMask:function(){                    
                    this.selectindex=null;
                }
            },
            mounted:function(){
            },
            created: function () {
                this.isCreated = true;
            }          
        })



    </script>
    <script>
    // $(document).ready(function () {
        //     $('.activity-nav li').on('click', function () {
        //         var a = $(this).index();
        //         var b=$(this)
        //         var c=b.siblings('li');
        //         b.toggleClass('active');
        //         c.removeClass('active');

        //         $('.dialog-screen-select-js').toggle();

        //         $('.dialog-screen-select-js .screen-select').children('div').eq(a).show();

        //         $('.dialog-screen-select-js .screen-select').children('div').eq(a).siblings('div').hide();

        //         $('.dialog-black-mask').bind("touchmove", function (e) {
        //             e.preventDefault();
        //         });
        //     })

        //     $('.dialog-black-mask,.screen-local ul li').on('click', function () {
        //         $('.dialog-screen-select-js').hide();
        //         $('.activity-nav li').removeClass('active');
        //     })

        //     /*选项*/
        //     $('.sort-js01 ul li').on('click',function() {
        //         $(this).addClass('active').siblings('li').removeClass('active');
        //         $('.dialog-screen-select-js').hide();
        //         var a= $(this).html();
        //         $('.activity-nav li:nth-child(1) span').html(a);
        //     })
        //     $('.sort-js02 ul li').on('click',function() {
        //         $(this).addClass('active').siblings('li').removeClass('active');
        //         $('.dialog-screen-select-js').hide();
        //         var a= $(this).html();
        //         $('.activity-nav li:nth-child(2) span').html(a);
        //     })

        //     $('.sort-js03 ul li').on('click',function() {
        //         $(this).addClass('active').siblings('li').removeClass('active');
        //         $('.dialog-screen-select-js').hide();
        //         var a= $(this).html();
        //         $('.activity-nav li:nth-child(3) span').html(a);
        //     })
        // })
    </script>


</body>
</html>